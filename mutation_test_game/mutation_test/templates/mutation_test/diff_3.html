{% extends "../inherit/sample.html" %}

{% block head %}
    .d-inline-block {
        display : inline-block;
    }
    .typewriter span {
        font-size: 72px;
        overflow: hidden;
        border-right: .3rem solid $dark;
        white-space: nowrap;
        animation: 
          typing 0.6s steps(3, end),
          blink-caret .5s step-end infinite;
    }

{% endblock %}

{% block temp %}

<div class="d-inline-block">
    <div id="typewrite-animated">
      <span id="typewrite-text" class="d-inline-block"></span>
    </div>
</div>


<script>
    // 透過 arr 陣列儲存要變化的文字內容
const arr = ['寫程式', '做設計', '找工作'];
// 用 count 計算次數，後面會用來計算目前要顯示的文字內容是哪一個
let count = 0;

// 用 setInterval 做每一次的切換變化
setInterval( function() { 
  count += 1;
  // 設定動畫名稱並取得元素
  const typewriteAni = document.getElementById('typewrite-animated');
  const typewriteText = document.getElementById('typewrite-text');
  
  // 判斷 #typewrite-animated 的 class 中是否含有 'typewriter' 這個 class
  if (typewriteAni.classList.contains('typewriter')) {
    // 有的話就移除
    typewriteAni.classList.remove('typewriter');
  } else {
    // 沒有的話就加上
    typewriteAni.classList.add('typewriter');
    // 監聽元素 animationend 事件，動畫執行完 800 毫秒後清掉文字與 'typewriter' 這個 class
    typewriteAni.addEventListener('animationend', function() {
      setTimeout(function() {
        typewriteText.textContent = '';
        typewriteAni.classList.remove('typewriter');
      }, 800)
    })
  }
  // 用 count%3 來計算目前要取得的 arr 位置是第幾個（arr 中有 3 筆就用 %3，五筆就 %5）
  typewriteText.textContent = arr[count%3];
}, 2500);
</script>
{% endblock %}